<?xml version="1.0" encoding="UTF-8"?>
<openbox_config xmlns="http://openbox.org/3.4/rc" xmlns:xi="http://www.w3.org/2001/XInclude">
  <resistance>
    <strength>20</strength>
    <screen_edge_strength>40</screen_edge_strength>
  </resistance>
  <focus>
    <focusNew>yes</focusNew>
  </focus>
  <placement>
    <policy>Smart</policy>
    <center>yes</center>
    <monitor>Primary</monitor>
    <primaryMonitor>1</primaryMonitor>
  </placement>
  <theme>
    <name>Tuurebox</name>
    <titleLayout>LIMC</titleLayout>
    <keepBorder>no</keepBorder>
    <animateIconify>yes</animateIconify>
    <font place="ActiveWindow">
      <name>Noto Sans</name>
      <size>11</size>
      <!-- font size in points -->
      <weight>Normal</weight>
      <!-- 'bold' or 'normal' -->
      <slant>Normal</slant>
      <!-- 'italic' or 'normal' -->
    </font>
    <font place="InactiveWindow">
      <name>Noto Sans</name>
      <size>11</size>
      <!-- font size in points -->
      <weight>Normal</weight>
      <!-- 'bold' or 'normal' -->
      <slant>Normal</slant>
      <!-- 'italic' or 'normal' -->
    </font>
    <font place="MenuHeader">
      <name>Noto Sans</name>
      <size>9</size>
      <!-- font size in points -->
      <weight>Normal</weight>
      <!-- 'bold' or 'normal' -->
      <slant>Normal</slant>
      <!-- 'italic' or 'normal' -->
    </font>
    <font place="MenuItem">
      <name>Noto Sans</name>
      <size>9</size>
      <!-- font size in points -->
      <weight>Normal</weight>
      <!-- 'bold' or 'normal' -->
      <slant>Normal</slant>
      <!-- 'italic' or 'normal' -->
    </font>
    <font place="ActiveOnScreenDisplay">
      <name>Noto Sans</name>
      <size>9</size>
      <!-- font size in points -->
      <weight>Normal</weight>
      <!-- 'bold' or 'normal' -->
      <slant>Normal</slant>
      <!-- 'italic' or 'normal' -->
    </font>
    <font place="InactiveOnScreenDisplay">
      <name>Noto Sans</name>
      <size>9</size>
      <!-- font size in points -->
      <weight>Normal</weight>
      <!-- 'bold' or 'normal' -->
      <slant>Normal</slant>
      <!-- 'italic' or 'normal' -->
    </font>
  </theme>
  <desktops>
    <number>1</number>
    <firstdesk>1</firstdesk>
  </desktops>
  <resize>
    <drawContents>yes</drawContents>
    <popupShow>Nonpixel</popupShow>
    <!-- 'Always', 'Never', or 'Nonpixel' (xterms and such) -->
    <popupPosition>Center</popupPosition>
    <!-- 'Center', 'Top', or 'Fixed' -->
    <popupFixedPosition>
      <!-- these are used if popupPosition is set to 'Fixed' -->
      <x>10</x>
      <!-- positive number for distance from left edge, negative number for
      distance from right edge, or 'Center' -->
      <y>10</y>
      <!-- positive number for distance from top edge, negative number for
      distance from bottom edge, or 'Center' -->
    </popupFixedPosition>
  </resize>
  <keyboard>
    <chainQuitKey>C-g</chainQuitKey>
    <!-- Reload config -->
    <keybind key="W-r">
      <action name="Execute">
        <command>openbox --restart</command>
      </action>
    </keybind>
    <!-- Volume/brightness control and screenlocking through their dedicated keys -->
    <keybind key="F2">
      <action name="Execute">
        <command>pactl -- set-sink-volume 0 -5%</command>
      </action>
    </keybind>
    <keybind key="W-F2">
      <action name="Execute">
        <command>pactl -- set-sink-volume 0 -1%</command>
      </action>
    </keybind>
    <keybind key="W-S-F2">
      <action name="Execute">
        <command>pactl -- set-sink-volume 0 0%</command>
      </action>
    </keybind>
    <keybind key="F3">
      <action name="Execute">
        <command>~/scripts/ob/increase-volume-with-upper-limit.sh 5</command>
      </action>
    </keybind>
    <keybind key="W-F3">
      <action name="Execute">
        <command>~/scripts/ob/increase-volume-with-upper-limit.sh 1</command>
      </action>
    </keybind>
    <keybind key="F11">
      <action name="Execute">
        <command>~/scripts/ob/set-brightness.sh -5</command>
      </action>
    </keybind>
    <keybind key="F12">
      <action name="Execute">
        <command>~/scripts/ob/set-brightness.sh 5</command>
      </action>
    </keybind>
    <keybind key="W-F11">
      <action name="Execute">
        <command>~/scripts/ob/set-brightness.sh -1</command>
      </action>
    </keybind>
    <keybind key="W-F12">
      <action name="Execute">
        <command>~/scripts/ob/set-brightness.sh 1</command>
      </action>
    </keybind>
    <keybind key="W-S-F11">
      <action name="Execute">
        <command>brightnessctl s 1%</command>
      </action>
    </keybind>
    <keybind key="W-S-F12">
      <action name="Execute">
        <command>brightnessctl s 100%</command>
      </action>
    </keybind>
    <keybind key="F9">
      <action name="Execute">
        <command>slock</command>
      </action>
    </keybind>
    <!-- Window focus -->
    <keybind key="A-Tab">
      <action name="NextWindow">
        <interactive>no</interactive>
      </action>
    </keybind>
    <!-- Window size and position controls -->
    <keybind key="W-Left">
      <action name="Unmaximize"/>
      <action name="MoveResizeTo">
        <x>0</x>
        <width>50%</width>
        <height>100%</height>
      </action>
    </keybind>
    <keybind key="W-Right">
      <action name="Unmaximize"/>
      <action name="MoveResizeTo">
        <x>-0</x>
        <width>50%</width>
        <height>100%</height>
      </action>
    </keybind>
    <keybind key="W-Up">
      <action name="ToggleMaximize"/>
    </keybind>
    <keybind key="W-Down">
      <action name="MoveResizeTo">
        <height>100%</height>
      </action>
    </keybind>
    <keybind key="W-1">
      <action name="Unmaximize"/>
      <action name="MoveResizeTo">
        <x>0</x>
        <width>1/3</width>
      </action>
    </keybind>
    <keybind key="W-2">
      <action name="Unmaximize"/>
      <action name="MoveResizeTo">
        <x>center</x>
        <width>1/3</width>
      </action>
    </keybind>
    <keybind key="W-3">
      <action name="Unmaximize"/>
      <action name="MoveResizeTo">
        <x>-0</x>
        <width>1/3</width>
      </action>
    </keybind>
    <keybind key="W-S-1">
      <action name="Unmaximize"/>
      <action name="MoveResizeTo">
        <x>0</x>
        <width>2/3</width>
      </action>
    </keybind>
    <keybind key="W-S-3">
      <action name="Unmaximize"/>
      <action name="MoveResizeTo">
        <x>-0</x>
        <width>2/3</width>
      </action>
    </keybind>
    <keybind key="W-period">
      <action name="Unmaximize"/>
      <action name="MoveResizeTo">
        <y>0</y>
        <height>50%</height>
      </action>
    </keybind>
    <keybind key="W-comma">
      <action name="Unmaximize"/>
      <action name="MoveResizeTo">
        <y>-0</y>
        <height>50%</height>
      </action>
    </keybind>
    <keybind key="W-minus">
      <action name="Unmaximize"/>
      <action name="MoveResizeTo">
        <x>center</x>
        <y>center</y>
      </action>
    </keybind>
    <keybind key="W-S-minus">
      <action name="Unmaximize"/>
      <action name="MoveResizeTo">
        <width>800</width>
        <height>630</height>
        <x>center</x>
        <y>center</y>
      </action>
    </keybind>
    <keybind key="W-S-Left">
      <action name="GrowToEdge">
        <direction>west</direction>
      </action>
    </keybind>
    <keybind key="W-S-Down">
      <action name="GrowToEdge">
        <direction>south</direction>
      </action>
    </keybind>
    <keybind key="W-S-Up">
      <action name="GrowToEdge">
        <direction>north</direction>
      </action>
    </keybind>
    <keybind key="W-S-Right">
      <action name="GrowToEdge">
        <direction>east</direction>
      </action>
    </keybind>
    <keybind key="W-C-Left">
      <action name="ShrinkToEdge">
        <direction>west</direction>
      </action>
    </keybind>
    <keybind key="W-C-Down">
      <action name="ShrinkToEdge">
        <direction>south</direction>
      </action>
    </keybind>
    <keybind key="W-C-Up">
      <action name="ShrinkToEdge">
        <direction>north</direction>
      </action>
    </keybind>
    <keybind key="W-C-Right">
      <action name="ShrinkToEdge">
        <direction>east</direction>
      </action>
    </keybind>
    <keybind key="W-space">
      <action name="GrowToFill"></action>
    </keybind>
    <keybind key="W-S-space">
      <action name="Unmaximize"/>
      <action name="MoveResizeTo">
        <height>100%</height>
        <width>100%</width>
      </action>
    </keybind>
    <keybind key="W-h">
      <action name="MoveResizeTo">
        <x>0</x>
      </action>
    </keybind>
    <keybind key="W-j">
      <action name="MoveResizeTo">
        <y>-0</y>
      </action>
    </keybind>
    <keybind key="W-k">
      <action name="MoveResizeTo">
        <y>0</y>
      </action>
    </keybind>
    <keybind key="W-l">
      <action name="MoveResizeTo">
        <x>-0</x>
      </action>
    </keybind>
    <keybind key="W-S-h">
      <action name="MoveToEdge">
        <direction>west</direction>
      </action>
    </keybind>
    <keybind key="W-S-j">
      <action name="MoveToEdge">
        <direction>south</direction>
      </action>
    </keybind>
    <keybind key="W-S-k">
      <action name="MoveToEdge">
        <direction>north</direction>
      </action>
    </keybind>
    <keybind key="W-S-l">
      <action name="MoveToEdge">
        <direction>east</direction>
      </action>
    </keybind>
    <!-- Keybindings for windows -->
    <keybind key="W-q">
      <action name="Close"/>
    </keybind>
    <keybind key="W-w">
      <action name="Iconify"/> <!-- as in "minimize" -->
    </keybind>
    <keybind key="W-f">
      <action name="ToggleFullscreen"/>
    </keybind>
    <keybind key="W-t">
      <action name="ToggleAlwaysOnTop"/>
    </keybind>
    <keybind key="W-S-t">
      <action name="ToggleAlwaysOnBottom"/>
    </keybind>
    <!-- Keybindings for running applications -->
    <keybind key="W-Return">
      <action name="Execute">
        <command>alacritty</command>
      </action>
    </keybind>
    <keybind key="W-p">
      <action name="Execute">
        <command>rofi -show drun -display-drun "" -theme-str 'window {width: 22%;}'</command>
      </action>
    </keybind>
    <keybind key="W-Tab">
      <action name="Execute">
        <command>rofi -show window -display-window ""</command>
      </action>
    </keybind>
    <keybind key="W-c">
      <action name="Execute">
        <command>rofi -modi ":greenclip print" -show  -run-command '{cmd}'</command>
      </action>
    </keybind>
    <keybind key="Print">
      <action name="Execute">
        <command>flameshot gui</command>
      </action>
    </keybind>
    <keybind key="C-S-Print">
      <action name="Execute">
        <command>flameshot full -p ~/files/pics/screenshots</command>
      </action>
    </keybind>
    <!-- Dunst keybinds (control popup notifications) -->
    <keybind key="W-n">
      <action name="Execute">
        <command>dunstctl history-pop</command>
      </action>
    </keybind>
    <keybind key="W-b">
      <action name="Execute">
        <command>dunstctl close</command>
      </action>
    </keybind>
    <keybind key="W-S-b">
      <action name="Execute">
        <command>dunstctl close-all</command>
      </action>
    </keybind>
    <keybind key="W-m">
      <action name="Execute">
        <command>dunstctl action</command>
      </action>
    </keybind>
    <keybind key="W-v">
      <action name="Execute">
        <command>~/scripts/ob/notify-current-date.sh</command>
      </action>
    </keybind>
  </keyboard>
  <mouse>
    <dragThreshold>2</dragThreshold>
    <!-- number of pixels the mouse must move before a drag begins -->
    <doubleClickTime>500</doubleClickTime>
    <!-- in milliseconds (1000 = 1 second) -->
    <context name="Frame">
      <mousebind button="A-Left" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
      </mousebind>
      <mousebind button="A-Left" action="Drag">
        <action name="Move"/>
      </mousebind>
      <mousebind button="W-Left" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
      </mousebind>
      <mousebind button="W-Left" action="Drag">
        <action name="Resize"/>
      </mousebind>
    </context>
    <context name="Titlebar">
      <mousebind button="Left" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
      </mousebind>
      <mousebind button="Right" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
      </mousebind>
      <mousebind button="Left" action="Drag">
        <action name="Move"/>
      </mousebind>
    </context>
    <!-- To have none of the windows focused, click on desktop -->
    <context name="Desktop">
      <mousebind button="Left" action="Click">
        <action name="Focus"/>
        <action name="raise"/>
      </mousebind>
    </context>
    <!-- Most of these don't work because I don't have window borders -->
    <!-- The 'top'-ones do because of titlebar -->
    <!-- I wish they all worked but you gotta do what you gotta do. -->
    <context name="Top">
      <mousebind button="Left" action="Drag">
        <action name="Resize">
          <edge>top</edge>
        </action>
      </mousebind>
    </context>
    <context name="Left">
      <mousebind button="Left" action="Drag">
        <action name="Resize">
          <edge>left</edge>
        </action>
      </mousebind>
    </context>
    <context name="Right">
      <mousebind button="Left" action="Drag">
        <action name="Resize">
          <edge>right</edge>
        </action>
      </mousebind>
    </context>
    <context name="Bottom">
      <mousebind button="Left" action="Drag">
        <action name="Resize">
          <edge>bottom</edge>
        </action>
      </mousebind>
    </context>
    <context name="TRCorner BRCorner TLCorner BLCorner">
      <mousebind button="Left" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
      </mousebind>
      <mousebind button="Left" action="Drag">
        <action name="Resize"/>
      </mousebind>
    </context>
    <context name="Client">
      <mousebind button="Left" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
      </mousebind>
      <mousebind button="Right" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
      </mousebind>
    </context>
    <context name="Iconify">
      <mousebind button="Left" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
      </mousebind>
      <mousebind button="Left" action="Click">
        <action name="Iconify"/>
      </mousebind>
    </context>
    <context name="Maximize">
      <mousebind button="Left" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
      </mousebind>
      <mousebind button="Left" action="Click">
        <action name="ToggleMaximize"/>
      </mousebind>
    </context>
    <context name="Close">
      <mousebind button="Left" action="Press">
        <action name="Focus"/>
        <action name="Raise"/>
      </mousebind>
      <mousebind button="Left" action="Click">
        <action name="Close"/>
      </mousebind>
    </context>
    <!-- Root pretty much means clicking on desktop -->
    <context name="Root">
      <mousebind button="Right" action="Press">
        <action name="ShowMenu">
          <menu>root-menu</menu>
        </action>
      </mousebind>
    </context>
  </mouse>
  <menu>
    <!-- You can specify more than one menu file in here and they are all loaded,
    just don't make menu ids clash or, well, it'll be kind of pointless -->
    <!-- default menu file (or custom one in $HOME/.config/openbox/) -->
    <file>menu.xml</file>
  </menu>
</openbox_config>
